<div class="container">
  <form [formGroup]="newPasswordForm" (ngSubmit)="submit()">
    <h1 class="h3 mb-3 font-weight-normal">パスワードのリセット</h1>
    <div class="form-group" [ngClass]="{'has-error': newPasswordForm.get('password').errors && newPasswordForm.get('password').touched}">
      <label for="password" class="control-label required">パスワード</label>
      <input type="password" class="form-control" formControlName="password">
      <span class="help-block" *ngIf="newPasswordForm.get('password').hasError('required') && newPasswordForm.get('password').touched">
        パスワードを入力してください
      </span>
      <span class="help-block" *ngIf="newPasswordForm.get('password').hasError('pattern') && newPasswordForm.get('password').touched">
        パスワードは{{passwordMinLength}}文字以上{{passwordMaxLength}}文字以下で、大文字・小文字・数字各最低１つを含めてください。
      </span>
      <span class="help-block" *ngIf="(newPasswordForm.get('password').hasError('minlength') || newPasswordForm.get('password').hasError('maxlength')) && newPasswordForm.get('password').touched">
        パスワードは{{passwordMinLength}}文字以上{{passwordMaxLength}}文字以下で入力してください
      </span>
    </div>

    <div class="form-group" [ngClass]="{'has-error': newPasswordForm.get('confirmPassword').errors  && newPasswordForm.get('confirmPassword').touched 
  || newPasswordForm.hasError('mismatch') && newPasswordForm.get('confirmPassword').touched}">
      <label for="confirmPassword" class="control-label required">パスワード確認</label>
      <input type="password" class="form-control" placeholder="Confirm Password" formControlName="confirmPassword">
      <span class="help-block" *ngIf="newPasswordForm.get('confirmPassword').hasError('required') && newPasswordForm.get('confirmPassword').touched">
        パスワードを入力してください
      </span>
      <span class="help-block" *ngIf="newPasswordForm.hasError('mismatch') && newPasswordForm.get('confirmPassword').touched">
        パスワードが一致しません
      </span>
    </div>
    <div class="form-group text-center">
      <button type="submit" class="btn btn-lg btn-primary btn-block" [disabled]="!newPasswordForm.valid">パスワードリセット</button>
    </div>
  </form>
</div>